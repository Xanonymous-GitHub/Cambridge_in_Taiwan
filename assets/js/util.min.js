$.fn.navList=function(){let e=$(this);return $a=e.find("a"),b=[],$a.each(function(){let e=$(this),t=Math.max(0,e.parents("li").length-1),l=e.attr("href"),a=e.attr("target");b.push('<a class="link depth-'+t+'"'+(void 0!==a&&""!==a?' target="'+a+'"':"")+(void 0!==l&&""!==l?' href="'+l+'"':"")+'><span class="indent-'+t+'"></span>'+e.text()+"</a>")}),b.join("")},$.fn.panel=function(e){let t=$(this);if(0===this.length)return t;if(this.length>1){for(let l=0;l<this.length;l++)$(this[l]).panel(e);return t}let a=$("body"),i=$(window),o=t.attr("id"),n;return"jQuery"!=typeof(n=$.extend({delay:0,hideOnClick:!1,hideOnEscape:!1,hideOnSwipe:!1,resetScroll:!1,resetForms:!1,side:null,target:t,visibleClass:"visible"},e)).target&&(n.target=$(n.target)),t._hide=function(e){n.target.hasClass(n.visibleClass)&&(e&&(e.preventDefault(),e.stopPropagation()),n.target.removeClass(n.visibleClass),window.setTimeout(function(){n.resetScroll&&t.scrollTop(0),n.resetForms&&t.find("form").each(function(){this.reset()})},n.delay))},t.css("-ms-overflow-style","-ms-autohiding-scrollbar").css("-webkit-overflow-scrolling","touch"),n.hideOnClick&&(t.find("a").css("-webkit-tap-highlight-color","rgba(0,0,0,0)"),t.on("click","a",function(e){let l=$(this),a=l.attr("href"),i=l.attr("target");a&&"#"!==a&&""!==a&&a!=="#"+o&&(e.preventDefault(),e.stopPropagation(),t._hide(),window.setTimeout(function(){"_blank"===i?window.open(a):window.location.href=a},n.delay+10))})),t.on("touchstart",function(e){t.touchPosX=e.originalEvent.touches[0].pageX,t.touchPosY=e.originalEvent.touches[0].pageY}),t.on("touchmove",function(e){if(null===t.touchPosX||null===t.touchPosY)return;let l=t.touchPosX-e.originalEvent.touches[0].pageX,a=t.touchPosY-e.originalEvent.touches[0].pageY,i=t.outerHeight(),o=t.get(0).scrollHeight-t.scrollTop();if(n.hideOnSwipe){let r=!1;switch(n.side){case"left":r=a<20&&a>-20&&l>50;break;case"right":r=a<20&&a>-20&&l<-50;break;case"top":r=l<20&&l>-20&&a>50;break;case"bottom":r=l<20&&l>-20&&a<-50}if(r)return t.touchPosX=null,t.touchPosY=null,t._hide(),!1}(0>t.scrollTop()&&a<0||o>i-2&&o<i+2&&a>0)&&(e.preventDefault(),e.stopPropagation())}),t.on("click touchend touchstart touchmove",function(e){e.stopPropagation()}),t.on("click",'a[href="#'+o+'"]',function(e){e.preventDefault(),e.stopPropagation(),n.target.removeClass(n.visibleClass)}),a.on("click touchend",function(e){t._hide(e)}),a.on("click",'a[href="#'+o+'"]',function(e){e.preventDefault(),e.stopPropagation(),n.target.toggleClass(n.visibleClass)}),n.hideOnEscape&&i.on("keydown",function(e){27===e.keyCode&&t._hide(e)}),t},$.fn.placeholder=function(){let e=$(this);if(void 0!==document.createElement("input").placeholder)return $(this);if(0===this.length)return e;if(this.length>1){for(let t=0;t<this.length;t++)$(this[t]).placeholder();return e}return e.find("input[type=text],textarea").each(function(){let e=$(this);(""===e.val()||e.val()===e.attr("placeholder"))&&e.addClass("polyfill-placeholder").val(e.attr("placeholder"))}).on("blur",function(){let e=$(this);e.attr("name").match(/-polyfill-field$/)||""!==e.val()||e.addClass("polyfill-placeholder").val(e.attr("placeholder"))}).on("focus",function(){let e=$(this);e.attr("name").match(/-polyfill-field$/)||e.val()!==e.attr("placeholder")||e.removeClass("polyfill-placeholder").val("")}),e.find("input[type=password]").each(function(){let e=$(this),t=$($("<div>").append(e.clone()).remove().html().replace(/type="password"/i,'type="text"').replace(/type=password/i,"type=text"));""!==e.attr("id")&&t.attr("id",e.attr("id")+"-polyfill-field"),""!==e.attr("name")&&t.attr("name",e.attr("name")+"-polyfill-field"),t.addClass("polyfill-placeholder").val(t.attr("placeholder")).insertAfter(e),""===e.val()?e.hide():t.hide(),e.on("blur",function(t){t.preventDefault();let l=e.parent().find("input[name="+e.attr("name")+"-polyfill-field]");""===e.val()&&(e.hide(),l.show())}),t.on("focus",function(e){e.preventDefault();let l=t.parent().find("input[name="+t.attr("name").replace("-polyfill-field","")+"]");t.hide(),l.show().focus()}).on("keypress",function(e){e.preventDefault(),t.val("")})}),e.on("submit",function(){e.find("input[type=text],input[type=password],textarea").each(function(e){let t=$(this);t.attr("name").match(/-polyfill-field$/)&&t.attr("name",""),t.val()===t.attr("placeholder")&&(t.removeClass("polyfill-placeholder"),t.val(""))})}).on("reset",function(t){t.preventDefault(),e.find("select").val($("option:first").val()),e.find("input,textarea").each(function(){let e=$(this),t;switch(e.removeClass("polyfill-placeholder"),this.type){case"submit":case"reset":break;case"password":e.val(e.attr("defaultValue")),t=e.parent().find("input[name="+e.attr("name")+"-polyfill-field]"),""===e.val()?(e.hide(),t.show()):(e.show(),t.hide());break;case"checkbox":case"radio":e.attr("checked",e.attr("defaultValue"));break;case"text":case"textarea":e.val(e.attr("defaultValue")),""===e.val()&&(e.addClass("polyfill-placeholder"),e.val(e.attr("placeholder")));break;default:e.val(e.attr("defaultValue"))}})}),e},$.prioritize=function(e,t){let l="__prioritize";"jQuery"!=typeof e&&(e=$(e)),e.each(function(){let e=$(this),a,i=e.parent();if(0!==i.length){if(e.data(l)){if(t)return;a=e.data(l),e.insertAfter(a),e.removeData(l)}else{if(!t||0===(a=e.prev()).length)return;e.prependTo(i),e.data(l,a)}}})};
